\documentclass[acmsmall,10pt,screen]{acmart}
\usepackage{ifpdf}
\ifpdf
\pdfoutput=1 % Force arXiv to process with pdflatex.
\fi
\settopmatter{printfolios=true,printccs=false,printacmref=false}


%\setcitestyle{super,sort&compress}
\bibliographystyle{ACM-Reference-Format}
\citestyle{acmauthoryear}

% \usepackage{ftnxtra}
% \usepackage{fnpos}
\usepackage{booktabs} % For formal tables
\usepackage{pgf-umlsd}

\usepackage[ruled]{algorithm2e} % For algorithms

\usepackage{cleveref}
\crefname{lstlisting}{listing}{listings}
\Crefname{lstlisting}{Listing}{Listings}

\usepackage{listings}

% \lstset{
%   language=Python,
% }


\lstdefinestyle{Python3}{
  morekeywords={yield,await,async}
}
\lstset{
  language=Scala,
  basicstyle=\ttfamily,
  breaklines=true,
  columns=fixed,
  basewidth=0.5em,
  captionpos=b,
  tabsize=2,
  frame=top,frame=bottom,
  morekeywords={throw,async,await,from}
}

 
% \usepackage{markdown}

\usepackage{color}
\usepackage{dot2texi}
\usepackage{tikz}
\usetikzlibrary{shapes,arrows}

\usepackage[inline]{enumitem}

% \usepackage{glossaries}
\usepackage{tabulary}

% \makeglossaries
% \newglossaryentry{keyword}{
%   name={keyword},
%   description={
%     is a plain data type that can be interpreted by the \Gls{Dsl} type class
%   }
% }
% \newglossaryentry{Dsl}{
%   name={Dsl},
%   description={
%     is a type class to interpret a \gls{keyword} in a specific \gls{domain}
%   }
% }
% \newglossaryentry{domain}{
%   name={domain},
%   description={
%     is the return type of the code block of DSL
%   }
% }

% Metadata Information
% \acmJournal{PACMPL}
% \acmVolume{9}
% \acmNumber{4}
% \acmArticle{39}
% \acmYear{2010}
% \acmMonth{3}

% Copyright
% \setcopyright{acmcopyright}
% \setcopyright{acmlicensed}
% \setcopyright{rightsretained}
\setcopyright{none}

% DOI
% \acmDOI{0000001.0000001}

% \includeonly{body}
% \includeonly{appendix}

% Document starts
\begin{document}
% Title portion
\title{Ad-hoc polymorphic delimited continuations}
%  \titlenote{This is a titlenote}
\subtitle{unifying monads and continuations}
%  \subtitlenote{Subtitle note}

\author{Yang, Bo}
\orcid{0000-0003-2757-9115}
\affiliation{%
  \institution{ThoughtWorks, Inc}
%   \streetaddress{104 Jamestown Rd}
%   \city{Williamsburg}
%   \state{VA}
%   \postcode{23185}
%   \country{USA}
}
\email{atryyang@thoughtworks.com}


\begin{abstract}
We designed and implemented a framework for creating extensible domain-specific languages that consists of library-defined keywords.
First-class language features in other programming languages can be implemented as libraries with the help of our framework.

The core concept in our framework is the type class \texttt{Dsl}, which can be considered as both the ad-hoc polymorphic version of a delimited continuation and a more generic version of \texttt{Monad}. Thus it can be also used as a statically typed extensible effect system that is more efficient and more concise than existing \texttt{Monad}-based effect systems.
\end{abstract}


%
% The code below should be generated by the tool at
% http://dl.acm.org/ccs.cfm
% Please copy and paste the code instead of the example below. 
%
\begin{CCSXML}
<ccs2012>
<concept>
<concept_id>10011007.10011006.10011008.10011009.10011019</concept_id>
<concept_desc>Software and its engineering~Extensible languages</concept_desc>
<concept_significance>500</concept_significance>
</concept>
<concept>
<concept_id>10011007.10011006.10011008.10011009.10011021</concept_id>
<concept_desc>Software and its engineering~Multiparadigm languages</concept_desc>
<concept_significance>500</concept_significance>
</concept>
<concept>
<concept_id>10011007.10011006.10011050.10011017</concept_id>
<concept_desc>Software and its engineering~Domain specific languages</concept_desc>
<concept_significance>500</concept_significance>
</concept>
<concept>
<concept_id>10011007.10011006.10011008.10011009.10011010</concept_id>
<concept_desc>Software and its engineering~Imperative languages</concept_desc>
<concept_significance>300</concept_significance>
</concept>
<concept>
<concept_id>10011007.10011006.10011008.10011009.10011011</concept_id>
<concept_desc>Software and its engineering~Object oriented languages</concept_desc>
<concept_significance>300</concept_significance>
</concept>
<concept>
<concept_id>10011007.10011006.10011008.10011009.10011012</concept_id>
<concept_desc>Software and its engineering~Functional languages</concept_desc>
<concept_significance>300</concept_significance>
</concept>
<concept>
<concept_id>10011007.10011006.10011008.10011024.10011025</concept_id>
<concept_desc>Software and its engineering~Polymorphism</concept_desc>
<concept_significance>300</concept_significance>
</concept>
<concept>
<concept_id>10011007.10011006.10011041.10010943</concept_id>
<concept_desc>Software and its engineering~Interpreters</concept_desc>
<concept_significance>300</concept_significance>
</concept>
<concept>
<concept_id>10011007.10011006.10011008.10011024.10011038</concept_id>
<concept_desc>Software and its engineering~Frameworks</concept_desc>
<concept_significance>100</concept_significance>
</concept>
<concept>
<concept_id>10011007.10011006.10011041.10011046</concept_id>
<concept_desc>Software and its engineering~Translator writing systems and compiler generators</concept_desc>
<concept_significance>100</concept_significance>
</concept>
</ccs2012>
\end{CCSXML}

\ccsdesc[500]{Software and its engineering~Extensible languages}
\ccsdesc[500]{Software and its engineering~Multiparadigm languages}
\ccsdesc[500]{Software and its engineering~Domain specific languages}
\ccsdesc[300]{Software and its engineering~Imperative languages}
\ccsdesc[300]{Software and its engineering~Object oriented languages}
\ccsdesc[300]{Software and its engineering~Functional languages}
\ccsdesc[300]{Software and its engineering~Polymorphism}
\ccsdesc[300]{Software and its engineering~Interpreters}
\ccsdesc[100]{Software and its engineering~Frameworks}
\ccsdesc[100]{Software and its engineering~Translator writing systems and compiler generators}
%
% End generated code
%


\keywords{type class, scala, delimited continuation, monad, haskell}

\include{body}
\include{appendix}

\begin{acks}

We are very grateful to Marisa Kirisame for many helpful comments and discussions.

\end{acks}

\bibliography{bibliography}



\end{document}
